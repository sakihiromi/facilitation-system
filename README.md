# AIファシリテーションシステム 🌿

**はたらくウェルビーイング** を探求するための5週間AIファシリテーションシステムです。

## 📋 概要

このシステムは、AIファシリテーションシステムです。5週間にわたる1on1セッションを通じて、参加者の「はたらくウェルビーイング」を探求し、最終的に行動プランの策定をサポートします。

## 🎯 ファシリテーションの原則

このシステムは、以下の原則に基づいてファシリテーションを行います：

### 1. 傾聴と共感
- 参加者の言葉を丁寧に受け止め、その背景にある想いや感情に寄り添います
- 評価せず、ありのままを受け入れる姿勢を示します

### 2. 本質への深堀り
- 表面的な答えに留まらず、「なぜ？」「それはどういうこと？」と優しく掘り下げます
- 具体的なエピソードと抽象的な価値観を行き来します

### 3. 安心安全な場づくり
- 参加者が自分の想いを素直に話せる雰囲気を作ります
- 沈黙も大切にし、考える時間を尊重します

### 4. 主体性の尊重
- 答えを押し付けず、参加者自身が気づき、決めることを大切にします
- 小さな一歩を応援し、完璧を求めません

## 💬 会話モード

参加者の好みに合わせて、3つの会話モードから選択できます：

### ライトモード（💬 気軽に話す）
- 質問は控えめに、相手の話を聞くことを優先
- 深堀りは最小限
- リラックスした雰囲気
- 1回の発言は50-100文字程度と短め
- **こんな人におすすめ**: 気軽に話したい、プレッシャーを感じたくない

### スタンダードモード（⚖️ バランス型）
- 適度な深堀りと傾聴のバランス
- 質問と共感のバランスが取れた対話
- 1回の発言は100-200文字程度
- **こんな人におすすめ**: バランスの取れた対話を望む（デフォルト）

### ディープモード（🔍 じっくり探求）
- より深い対話を心がける
- 積極的な深堀りと本質的な探求
- 矛盾や葛藤があれば、それを一緒に探求する
- じっくり考える時間を提供
- **こんな人におすすめ**: 自己理解を深めたい、時間をかけて探求したい

## ⏱️ セッションの長さ

参加者の都合に合わせて、3つの長さから選択できます：

### 短め（⚡ 10-15分）
- 重要なポイントに絞って対話
- 効率的に核心に迫る質問
- 8-10回程度のやり取りで完結
- **こんな時におすすめ**: 時間がない時、要点だけ話したい時

### 標準（⏱️ 20-30分）
- バランスの取れた対話時間
- 15-20回程度のやり取りで完結
- 適度な深堀りと振り返り
- **こんな時におすすめ**: 通常のセッション（デフォルト）

### 長め（🕐 40-60分）
- じっくり時間をかけた対話
- 25-35回程度のやり取りで完結
- 一つ一つのテーマを丁寧に掘り下げ
- 具体的なエピソードや背景も詳しく聞く
- **こんな時におすすめ**: 深く探求したい時、まとまった時間がある時

## 🗓️ 週ごとのテーマ

### 1週目：あなたの"はたらくウェルビーイング"は？

| 項目 | 内容 |
|------|------|
| **視点** | I（個人） |
| **目標** | 自分自身の価値観やウェルビーイングについて、新たな気づきを得る |
| **探求すること** | 生きるうえで大切にしていること、働くうえで大切にしていること |
| **アプローチ** | 傾聴と深堀りを通じて、本質的な価値観を引き出す |

### 2週目：雑談会 ☕

| 項目 | 内容 |
|------|------|
| **視点** | Chat（雑談） |
| **目標** | リラックスした雰囲気で対話を楽しみ、参加者をより深く理解する |
| **探求すること** | 1週目のフィードバック、趣味や興味、占いを通じた自己理解 |
| **アプローチ** | 雑談モードまたは占いモード（30種類以上の占術）から選択 |

### 3週目：あなたはどんな仕事をしている？

| 項目 | 内容 |
|------|------|
| **視点** | WE（チーム・本部） |
| **目標** | 組織の中での自分の役割や価値発揮について、新たな視点を得る |
| **探求すること** | 組織の価値観、自分の役割、個人と組織の関係性 |
| **アプローチ** | 「I」と「WE」の視点を往復しながら、つながりを見出す |

### 4週目：あなたの会社について教えてください

| 項目 | 内容 |
|------|------|
| **視点** | S（会社・社会） |
| **目標** | 会社・社会との関係の中で自分の存在意義や役割について、新たな視点を得る |
| **探求すること** | 会社のビジョン、社会的使命、自分の原点と未来 |
| **アプローチ** | 視座を高く持ちつつ、これまでの気づきを統合する |

### 5週目：統合フェーズ - 1週間内の1個の行動プラン

| 項目 | 内容 |
|------|------|
| **視点** | Integration（統合） |
| **目標** | 気づきを統合し、自分なりの小さな行動プランを見出す |
| **探求すること** | 4週間の振り返り、理想と現実のギャップ、実践可能な行動 |
| **アプローチ** | 温かく応援しながら、小さくても確実な一歩を一緒に考える |

## 🔮 占い機能（2週目：雑談会）

2週目の雑談会では、占いモードを選択できます。30種類以上の占術から選択可能：

### 西洋系占術
- タロット占い、西洋占星術、数秘術、カバラ数秘術、ルーン占い
- オラクルカード、ペンデュラム占い、水晶占い、茶葉占い、手相占い

### 東洋系占術
- 四柱推命、算命学、紫微斗数、九星気学、易占い（周易）
- おみくじ、気学、陰陽道

### その他の占術
- インド占星術（ジョーティシュ）
- マヤ暦占星術、アステカ占星術
- 誕生花占い、誕生石占い、誕生色占い、誕生日占い
- 姓名判断、漢字占い
- オーラリーディング、チャクラリーディング、エネルギーヒーリング
- MBTI診断、エニアグラム、ビッグファイブ性格診断、血液型占い
- 動物占い、樹木占い、花占い
- 夢占い、風水、人相占い、筆跡占い、バイオリズム、ラッキーアイテム占い、相性占い

### 占いモードの選択肢
- **自分で選ぶ**: 好きな占術を選択
- **お任せ占い**: AIが対話の内容から最適な占術を2〜3種類選択

## 🚀 セットアップ

### 必要条件

- Node.js 18以上
- OpenAI API キー（GPT-4 および DALL-E 3 が利用可能なもの）

### インストール

```bash
# 依存関係のインストール
npm install

# 環境変数の設定
cp env.template .env
# .env ファイルを編集してOpenAI APIキーを設定
```

### 起動

```bash
npm start
```

ブラウザで http://localhost:3000 にアクセスしてください。

## 💡 機能

### 1. 週別1on1セッション
- 各週10〜60分程度の対話セッション（長さは選択可能）
- AIファシリテーターによる質問と深堀り
- セッションタイマー機能
- 会話モード選択（ライト/スタンダード/ディープ）

### 2. 進行管理
- 週ごとの進行状況表示
- 前週完了で次週がアンロック
- セッション履歴の保存

### 3. 可視化・記事化
- セッション終了時に自動で記事生成
- 対話のハイライト抽出
- 価値観の整理・まとめ
- テーマに合わせたイメージ図の自動生成（DALL-E 3使用）

### 4. コンテキスト継承
- 過去のセッション内容を次週に引き継ぎ
- 事前情報の活用
- 一貫した対話体験

### 5. 日本語入力対応
- IME変換中のEnterキー誤送信を防止
- 日本語入力時の快適な操作性

### 6. セッション永続化
- セッションデータをJSONファイルに自動保存
- セッションの再開機能
- セッションの手動保存機能

### 7. 占い機能（2週目）
- 30種類以上の占術から選択
- AIによるお任せ占術選択
- 占いを通じた自己理解の深化

## 🏗️ 技術構成

- **バックエンド**: Node.js + Express
- **AI（対話）**: OpenAI GPT-4
- **AI（画像生成）**: OpenAI DALL-E 3
- **フロントエンド**: Vanilla JavaScript
- **スタイル**: CSS3 (CSS Variables, Flexbox, Grid)
- **データ永続化**: JSONファイル

## 📁 ファイル構成

```
facilitation-system/
├── server.js          # Express サーバー
├── package.json       # 依存関係
├── env.template       # 環境変数テンプレート
├── README.md          # このファイル
├── data/
│   └── sessions/      # セッションデータ保存用
└── public/
    ├── index.html     # メインHTML
    ├── styles.css     # スタイルシート
    ├── app.js         # フロントエンドJS
    ├── fortune.js     # 占い機能JS
    └── images/        # 生成画像保存用
```

## 🔌 API エンドポイント

### セッション管理
| メソッド | エンドポイント | 説明 |
|----------|----------------|------|
| POST | `/api/session/start` | セッション開始 |
| POST | `/api/session/end` | セッション終了・要約生成 |
| POST | `/api/session/save` | セッション手動保存 |
| POST | `/api/session/resume` | セッション再開 |
| GET | `/api/session/check/:userId/:week` | 既存セッションチェック |
| GET | `/api/session/report/:userId/:week` | セッションレポート取得 |
| GET | `/api/sessions/:userId` | セッション一覧取得 |

### 対話
| メソッド | エンドポイント | 説明 |
|----------|----------------|------|
| POST | `/api/chat` | メッセージ送信 |
| POST | `/api/chat/greeting` | 最初の挨拶を取得 |

### 占い機能
| メソッド | エンドポイント | 説明 |
|----------|----------------|------|
| GET | `/api/fortune-types` | 占術一覧取得 |
| POST | `/api/session/set-fortune` | 占術設定 |
| POST | `/api/session/omakase-fortune` | お任せ占い |

## 🔧 カスタマイズ

### ファシリテーション内容の調整

`server.js` の `weeklyConfig` オブジェクトを編集することで、各週のテーマや質問内容をカスタマイズできます。

```javascript
const weeklyConfig = {
  1: {
    theme: 'テーマ名',
    perspective: '視点',
    systemPrompt: 'AIへの指示...'
  },
  // ...
};
```

### 会話モードの調整

`server.js` の `conversationModes` オブジェクトを編集することで、会話スタイルをカスタマイズできます。

```javascript
const conversationModes = {
  light: {
    name: 'ライトモード',
    description: '気軽に話す',
    modifier: '/* AIへの追加指示 */'
  },
  // ...
};
```

### セッション長さの調整

`server.js` の `sessionLengths` オブジェクトを編集することで、セッション時間の目安をカスタマイズできます。

```javascript
const sessionLengths = {
  short: {
    name: '短め',
    description: '10-15分',
    targetMinutes: 15,
    modifier: '/* AIへの追加指示 */'
  },
  // ...
};
```

### 占術の追加

`server.js` の `fortuneTypes` オブジェクトを編集することで、新しい占術を追加できます。

```javascript
const fortuneTypes = {
  tarot: 'タロット占い',
  western_astrology: '西洋占星術',
  // 新しい占術を追加...
};
```

## 💭 使い方のヒント

### 参加者の方へ

1. **リラックスして**: 正解はありません。思ったことを素直に話してください
2. **具体的に**: 抽象的な言葉だけでなく、具体的なエピソードも話してみてください
3. **考える時間を大切に**: すぐに答えが出なくても大丈夫です
4. **振り返りを活用**: 各週の記事を読み返すと、新たな気づきがあるかもしれません
5. **自分に合ったモードで**: 会話モードと長さは自由に選んでください
6. **占いも楽しんで**: 2週目の雑談会では、占いを通じた新しい自己発見もできます

### ファシリテーターの方へ（カスタマイズする場合）

1. **傾聴を第一に**: AIの応答を参考にしつつ、参加者の言葉を大切にしてください
2. **深堀りのタイミング**: 表面的な答えの奥に、本当の想いがあります
3. **つながりを見出す**: 各週の内容を統合し、全体像を一緒に描いてください
4. **応援する姿勢**: 参加者の可能性を信じ、温かく応援してください

## 📝 ライセンス

Private

---

開発: 2025年12月
